<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fitness Tracker</title>
<link rel="manifest" href="manifest.json">
<link rel="icon" href="icon.svg" type="image/svg+xml">
<meta name="theme-color" content="#000000">
<style>
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');

body {
  font-family: 'Montserrat', sans-serif;
  margin:0; padding:0;
  background:#f5f5f5;
  color:#333;
  display:flex;
  flex-direction:column;
  align-items:center;
  transition: background 0.3s, color 0.3s;
}
body.dark { background:#121212; color:#eee; }

header { width:100%; padding:1rem; text-align:center; background:#222; color:#fff; }

.container { max-width:600px; width:100%; padding:1rem; display:flex; flex-direction:column; gap:1rem; }

.card { background:#fff; border-radius:15px; padding:1rem; box-shadow:0 4px 10px rgba(0,0,0,0.2); transition: background 0.3s; }
body.dark .card { background:#1e1e1e; }

input, button { padding:10px; margin:5px 0; width:100%; border-radius:10px; border:1px solid #ccc; }
button { background:#222; color:#fff; cursor:pointer; }
button:hover { background:#444; }

.progress-bar { height:20px; border-radius:10px; background:#eee; margin-top:5px; overflow:hidden; }
.progress { height:100%; width:0%; background:green; transition: width 0.5s, background 0.5s; }

table { width:100%; border-collapse:collapse; }
th, td { border:1px solid #ddd; padding:8px; text-align:center; }

.badge { display:inline-block; margin:3px; padding:5px 10px; border-radius:12px; background:gold; color:#000; font-weight:600; }
.toggle-btn { margin-top:10px; padding:8px; border-radius:12px; cursor:pointer; background:#222; color:#fff; border:none; }
.toggle-btn:hover { background:#444; }
</style>
</head>
<body>
<header>
<h1>üèãÔ∏è Fitness Tracker</h1>
<button class="toggle-btn" onclick="toggleTheme()">üåô / ‚òÄÔ∏è</button>
</header>

<div class="container">

<div class="card">
<h2>Entr√©es quotidiennes</h2>
<input type="number" id="poids" placeholder="Poids (kg)">
<input type="number" id="pas" placeholder="Nombre de pas">
<input type="number" id="pompes" placeholder="Pompes">
<input type="number" id="talons" placeholder="Levers de talon">
<input type="number" id="genoux" placeholder="Levers de genoux">
<input type="number" id="jambes" placeholder="Levers de jambe">
<input type="number" id="calories" placeholder="Calories">
<input type="number" id="eau" placeholder="Eau (L)">
<input type="number" id="km" placeholder="Course (km)">
<button onclick="saveData()">Enregistrer / Modifier</button>
<button onclick="clearHistory()">üóëÔ∏è Supprimer tout l'historique</button>

<div>
<div>Pas</div>
<div class="progress-bar"><div id="progressPas" class="progress"></div></div>
<div>Eau</div>
<div class="progress-bar"><div id="progressEau" class="progress"></div></div>
<div>Exercices</div>
<div class="progress-bar"><div id="progressExercices" class="progress"></div></div>
<div>Course</div>
<div class="progress-bar"><div id="progressCourse" class="progress"></div></div>
</div>
</div>

<div class="card">
<h2>Historique</h2>
<table id="historyTable">
<thead>
<tr>
<th>Jour</th><th>Poids</th><th>Pas</th><th>Pompes</th><th>Talons</th><th>Genoux</th><th>Jambes</th><th>Calories</th><th>Eau</th><th>Km</th><th>Humeur</th><th>‚ùå</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<div class="card">
<h2>üèÜ Records & Classement</h2>
<ul id="records"></ul>
<div id="badges"></div>
<p id="lastUpdate"></p>
</div>

</div>

<script src="fitness.js"></script>
<script>
if("serviceWorker" in navigator){
navigator.serviceWorker.register("service-worker.js").then(reg=>{
reg.onupdatefound = ()=>{
const newWorker=reg.installing;
newWorker.onstatechange=()=>{
if(newWorker.state==="installed" && navigator.serviceWorker.controller){
const now=new Date().toLocaleString("fr-FR");
localStorage.setItem("lastUpdate",now);
if(confirm("üî• Nouvelle version disponible ! Veux-tu recharger l'application ?")){
window.location.reload();
}
}
};
};
});
}

function toggleTheme(){
document.body.classList.toggle("dark");
localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light");
}

if(localStorage.getItem("theme")==="dark")document.body.classList.add("dark");
</script>
</body>
</html>
